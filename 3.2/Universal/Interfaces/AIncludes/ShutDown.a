;
;	File:		ShutDown.a
;
;	Contains:	Shutdown Manager Interfaces.
;
;	Version:	Technology:	System 7.5
;				Release:	Universal Interfaces 3.2
;
;	Copyright:	© 1987-1998 by Apple Computer, Inc., all rights reserved
;
;	Bugs?:		For bug reports, consult the following page on
;				the World Wide Web:
;
;					http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__SHUTDOWN__') = 'UNDEFINED' THEN
__SHUTDOWN__ SET 1

	IF &TYPE('__MACTYPES__') = 'UNDEFINED' THEN
	include 'MacTypes.a'
	ENDIF
	IF &TYPE('__MIXEDMODE__') = 'UNDEFINED' THEN
	include 'MixedMode.a'
	ENDIF


sdOnPowerOff					EQU		1					;call procedure before power off.
sdOnRestart						EQU		2					;call procedure before restart.
sdOnUnmount						EQU		4					;call procedure before unmounting.
sdOnDrivers						EQU		8					;call procedure before closing drivers.
sdOnBootVolUnmount				EQU		16					;call procedure before unmounting boot volume and VM volume but after unmounting all other volumes
sdRestartOrPower				EQU		3					;call before either power off or restart.
;
; pascal void ShutDwnPower(void )
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_ShutDwnPower
			move.w              #$0001,-(sp)
			dc.w            	$A895
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ShutDwnPower
	ENDIF

;
; pascal void ShutDwnStart(void )
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_ShutDwnStart
			move.w              #$0002,-(sp)
			dc.w            	$A895
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ShutDwnStart
	ENDIF

;
; pascal void ShutDwnInstall(ShutDwnUPP shutDownProc, short flags)
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_ShutDwnInstall
			move.w              #$0003,-(sp)
			dc.w            	$A895
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ShutDwnInstall
	ENDIF

;
; pascal void ShutDwnRemove(ShutDwnUPP shutDownProc)
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_ShutDwnRemove
			move.w              #$0004,-(sp)
			dc.w            	$A895
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ShutDwnRemove
	ENDIF


	ENDIF ; __SHUTDOWN__ 


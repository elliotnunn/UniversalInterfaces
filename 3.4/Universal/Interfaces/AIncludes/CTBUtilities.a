;
;    File:       CTBUtilities.a
;
;    Contains:   Communications Toolbox Utilities interfaces.
;
;    Version:    Technology: System 7.5
;                Release:    Universal Interfaces 3.4
;
;    Copyright:  © 1988-2001 by Apple Computer, Inc., all rights reserved
;
;    Bugs?:      For bug reports, consult the following page on
;                the World Wide Web:
;
;                    http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__CTBUTILITIES__') = 'UNDEFINED' THEN
__CTBUTILITIES__ SET 1

	IF &TYPE('__CONDITIONALMACROS__') = 'UNDEFINED' THEN
	include 'ConditionalMacros.a'
	ENDIF
	IF &TYPE('__MACTYPES__') = 'UNDEFINED' THEN
	include 'MacTypes.a'
	ENDIF
	IF &TYPE('__MIXEDMODE__') = 'UNDEFINED' THEN
	include 'MixedMode.a'
	ENDIF
	IF &TYPE('__DIALOGS__') = 'UNDEFINED' THEN
	include 'Dialogs.a'
	ENDIF
	IF &TYPE('__APPLETALK__') = 'UNDEFINED' THEN
	include 'AppleTalk.a'
	ENDIF

	IF CALL_NOT_IN_CARBON THEN

curCTBUVersion					EQU		2					; version of Comm Toolbox Utilities

															;    Error codes/types    
ctbuGenericError				EQU		-1
ctbuNoErr						EQU		0
; typedef OSErr 						CTBUErr


; typedef SInt16						ChooseReturnCode
chooseDisaster					EQU		-2
chooseFailed					EQU		-1
chooseAborted					EQU		0
chooseOKMinor					EQU		1
chooseOKMajor					EQU		2
chooseCancel					EQU		3

; typedef UInt16						NuLookupReturnCode
nlOk							EQU		0
nlCancel						EQU		1
nlEject							EQU		2

; typedef UInt16						NameFilterReturnCode
nameInclude						EQU		1
nameDisable						EQU		2
nameReject						EQU		3

; typedef UInt16						ZoneFilterReturnCode
zoneInclude						EQU		1
zoneDisable						EQU		2
zoneReject						EQU		3


															;    Values for hookProc items   
hookOK							EQU		1
hookCancel						EQU		2
hookOutline						EQU		3
hookTitle						EQU		4
hookItemList					EQU		5
hookZoneTitle					EQU		6
hookZoneList					EQU		7
hookLine						EQU		8
hookVersion						EQU		9
hookReserved1					EQU		10
hookReserved2					EQU		11
hookReserved3					EQU		12
hookReserved4					EQU		13					;    "virtual" hookProc items   
hookNull						EQU		100
hookItemRefresh					EQU		101
hookZoneRefresh					EQU		102
hookEject						EQU		103
hookPreflight					EQU		104
hookPostflight					EQU		105
hookKeyBase						EQU		1000

;   NuLookup structures/constants   
NLTypeEntry				RECORD 0
hIcon					 ds.l	1				; offset: $0 (0)
typeStr					 ds.b	33				; offset: $4 (4)
						 ORG 38
sizeof					 EQU *					; size:   $26 (38)
						ENDR
NLType					RECORD 0
elements				 ds.b	4 * NLTypeEntry.sizeof
sizeof					 EQU *					; size:   $98 (152)
						ENDR


NBPReply				RECORD 0
theEntity				 ds		EntityName		; offset: $0 (0)
theAddr					 ds		AddrBlock		; offset: $66 (102)
sizeof					 EQU *					; size:   $6A (106)
						ENDR
	IF CALL_NOT_IN_CARBON THEN

; *  NewDialogHookUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  NewNameFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  NewZoneFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  DisposeDialogHookUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  DisposeNameFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  DisposeZoneFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  InvokeDialogHookUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  InvokeNameFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 


; *  InvokeZoneFilterUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 

	ENDIF	; CALL_NOT_IN_CARBON
	ENDIF	; CALL_NOT_IN_CARBON
	IF CALL_NOT_IN_CARBON THEN

; *  InitCTBUtilities()
; *  
; *  Availability:
; *    Non-Carbon CFM:   not available
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 

;
; pascal CTBUErr InitCTBUtilities(void )
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_InitCTBUtilities
			move.w              #$0401,-(sp)
			move.l              sp,A0
			dc.w            	$A08B
			addq.w              #2,sp
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION InitCTBUtilities
	ENDIF


; *  CTBGetCTBVersion()
; *  
; *  Availability:
; *    Non-Carbon CFM:   not available
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 

;
; pascal short CTBGetCTBVersion(void )
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_CTBGetCTBVersion
			move.w              #$0405,-(sp)
			move.l              sp,A0
			dc.w            	$A08B
			addq.w              #2,sp
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION CTBGetCTBVersion
	ENDIF


; *  StandardNBP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   not available
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 

;
; pascal short StandardNBP(Point where, ConstStr255Param prompt, short numTypes, NLType typeList, NameFilterUPP nameFilter, ZoneFilterUPP zoneFilter, DialogHookUPP hook, NBPReply *theReply)
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_StandardNBP
			move.w              #$0406,-(sp)
			move.l              sp,A0
			dc.w            	$A08B
			addq.w              #2,sp
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION StandardNBP
	ENDIF


; *  CustomNBP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   not available
; *    CarbonLib:        not available
; *    Mac OS X:         not available
; 

;
; pascal short CustomNBP(Point where, ConstStr255Param prompt, short numTypes, NLType typeList, NameFilterUPP nameFilter, ZoneFilterUPP zoneFilter, DialogHookUPP hook, long userData, short dialogID, ModalFilterUPP filter, NBPReply *theReply)
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_CustomNBP
			move.w              #$0407,-(sp)
			move.l              sp,A0
			dc.w            	$A08B
			addq.w              #2,sp
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION CustomNBP
	ENDIF

	ENDIF	; CALL_NOT_IN_CARBON
	IF OLDROUTINENAMES THEN
	ENDIF	; OLDROUTINENAMES


	ENDIF ; __CTBUTILITIES__ 


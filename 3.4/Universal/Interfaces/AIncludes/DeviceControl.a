;
;    File:       DeviceControl.a
;
;    Contains:   Component API for doing AVC transactions.
;
;    Version:    Technology: xxx put version here xxx
;                Release:    Universal Interfaces 3.4
;
;    Copyright:  © 1999-2001 by Apple Computer, Inc., all rights reserved.
;
;    Bugs?:      For bug reports, consult the following page on
;                the World Wide Web:
;
;                    http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__DEVICECONTROL__') = 'UNDEFINED' THEN
__DEVICECONTROL__ SET 1

	IF &TYPE('__MACTYPES__') = 'UNDEFINED' THEN
	include 'MacTypes.a'
	ENDIF
	IF &TYPE('__COMPONENTS__') = 'UNDEFINED' THEN
	include 'Components.a'
	ENDIF


DVCTransactionParams	RECORD 0
commandBufferPtr		 ds.l	1				; offset: $0 (0)
commandLength			 ds.l	1				; offset: $4 (4)
responseBufferPtr		 ds.l	1				; offset: $8 (8)
responseBufferSize		 ds.l	1				; offset: $C (12)
responseHandler			 ds.l	1				; offset: $10 (16)
sizeof					 EQU *					; size:   $14 (20)
						ENDR

; *  DeviceControlDoAVCTransaction()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in IDHLib 1.0 and later
; *    CarbonLib:        in CarbonLib 1.3 and later
; *    Mac OS X:         not available
; 

;
; pascal ComponentResult DeviceControlDoAVCTransaction(ComponentInstance instance, DVCTransactionParams *params)
;
	IF TARGET_OS_MAC ** TARGET_CPU_68K ** ¬ TARGET_RT_MAC_CFM THEN
		Macro
		_DeviceControlDoAVCTransaction
			move.l              #$00040001,-(sp)
			moveq           	#0,D0
			dc.w            	$A82A
		EndM
	ELSEIF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION DeviceControlDoAVCTransaction
	ENDIF


	ENDIF ; __DEVICECONTROL__ 


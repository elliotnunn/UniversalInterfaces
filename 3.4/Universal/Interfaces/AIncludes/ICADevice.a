;
;    File:       ICADevice.a
;
;    Contains:   Image Capture device definitions.  This file is included
;
;    Version:    Technology: 1.0
;                Release:    Universal Interfaces 3.4
;
;    Copyright:  Â© 2000-2001 by Apple Computer, Inc., all rights reserved.
;
;    Bugs?:      For bug reports, consult the following page on
;                the World Wide Web:
;
;                    http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__ICADEVICE__') = 'UNDEFINED' THEN
__ICADEVICE__ SET 1

	IF &TYPE('__ICAAPPLICATION__') = 'UNDEFINED' THEN
	include 'ICAApplication.a'
	ENDIF

;  
;--------------- Completion Procs --------------- 
;


;   
;   NOTE: the parameter for the completion proc (ICDHeader*) has to be casted to the appropriate type
;   e.g. (ICD_BuildObjectChildrenPB*), ...
;   




;  
;--------------- ICDHeader --------------- 
;

ICDHeader				RECORD 0
err						 ds.w	1				; offset: $0 (0)		;  --> 
refcon					 ds.l	1				; offset: $2 (2)		;  <-- 
sizeof					 EQU *					; size:   $6 (6)
						ENDR
; 
;--------------- Object parameter blocks ---------------
;

ICD_NewObjectPB			RECORD 0
header					 ds		ICDHeader		; offset: $0 (0)
parentObject			 ds.l	1				; offset: $6 (6)		;  <-- 
objectInfo				 ds		ICAObjectInfo	; offset: $A (10)		;  <-- 
object					 ds.l	1				; offset: $12 (18)		;  --> 
sizeof					 EQU *					; size:   $16 (22)
						ENDR
ICD_DisposeObjectPB		RECORD 0
header					 ds		ICDHeader		; offset: $0 (0)
object					 ds.l	1				; offset: $6 (6)		;  <-- 
sizeof					 EQU *					; size:   $A (10)
						ENDR
; 
;--------------- Property parameter blocks ---------------
;

ICD_NewPropertyPB		RECORD 0
header					 ds		ICDHeader		; offset: $0 (0)
object					 ds.l	1				; offset: $6 (6)		;  <-- 
propertyInfo			 ds		ICAPropertyInfo ; offset: $A (10)		;  <-- 
property				 ds.l	1				; offset: $1A (26)		;  --> 
sizeof					 EQU *					; size:   $1E (30)
						ENDR
ICD_DisposePropertyPB	RECORD 0
header					 ds		ICDHeader		; offset: $0 (0)
property				 ds.l	1				; offset: $6 (6)		;  <-- 
sizeof					 EQU *					; size:   $A (10)
						ENDR

;   
;   NOTE: for all APIs - pass NULL as completion parameter to make a synchronous call 
;   



;  
;--------------- Object utilities for device libraries --------------- 
;


; *  ICDNewObject()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in ImageCaptureLib 1.0 and later
; *    CarbonLib:        in CarbonLib 1.1 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal OSErr ICDNewObject(ICD_NewObjectPB *pb, ICDCompletion completion)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ICDNewObject
	ENDIF


; *  ICDDisposeObject()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in ImageCaptureLib 1.0 and later
; *    CarbonLib:        in CarbonLib 1.1 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal OSErr ICDDisposeObject(ICD_DisposeObjectPB *pb, ICDCompletion completion)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ICDDisposeObject
	ENDIF


; *  ICDNewProperty()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in ImageCaptureLib 1.0 and later
; *    CarbonLib:        in CarbonLib 1.1 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal OSErr ICDNewProperty(ICD_NewPropertyPB *pb, ICDCompletion completion)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ICDNewProperty
	ENDIF


; *  ICDDisposeProperty()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in ImageCaptureLib 1.0 and later
; *    CarbonLib:        in CarbonLib 1.1 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal OSErr ICDDisposeProperty(ICD_DisposePropertyPB *pb, ICDCompletion completion)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION ICDDisposeProperty
	ENDIF





	ENDIF ; __ICADEVICE__ 


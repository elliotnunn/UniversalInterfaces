;
;    File:       TSMTE.a
;
;    Contains:   Text Services Managerfor TextEdit Interfaces.
;
;    Version:    Technology: System 7.5
;                Release:    Universal Interfaces 3.4
;
;    Copyright:  © 1991-2001 by Apple Computer, Inc., all rights reserved
;
;    Bugs?:      For bug reports, consult the following page on
;                the World Wide Web:
;
;                    http://developer.apple.com/bugreporter/
;
;
	IF &TYPE('__TSMTE__') = 'UNDEFINED' THEN
__TSMTE__ SET 1

	IF &TYPE('__TEXTEDIT__') = 'UNDEFINED' THEN
	include 'TextEdit.a'
	ENDIF
	IF &TYPE('__DIALOGS__') = 'UNDEFINED' THEN
	include 'Dialogs.a'
	ENDIF
	IF &TYPE('__APPLEEVENTS__') = 'UNDEFINED' THEN
	include 'AppleEvents.a'
	ENDIF
	IF &TYPE('__TEXTSERVICES__') = 'UNDEFINED' THEN
	include 'TextServices.a'
	ENDIF


;  signature, interface types

kTSMTESignature					EQU		'tmTE'
kTSMTEInterfaceType				EQU		'tmTE'

;    In Carbon, since DialogRef is opaque, the TSMDialogRecord is removed.
;    Only one kind of TSMTE dialog remains, with extended data managed by TSMTE.
;    Use kTSMTESignature for the dialog refCon, and use the accessors below,
;    i.e. GetTSMTEDialogTSMTERecHandle, to get at the old TSMDialogRecord info.


	IF CALL_NOT_IN_CARBON THEN

kTSMTEDialog					EQU		'tmDI'
	ENDIF	; CALL_NOT_IN_CARBON
;  update flag for TSMTERec

kTSMTEAutoScroll				EQU		1

;  callback procedure definitions



;  data types
TSMTERec				RECORD 0
textH					 ds.l	1				; offset: $0 (0)
preUpdateProc			 ds.l	1				; offset: $4 (4)
postUpdateProc			 ds.l	1				; offset: $8 (8)
updateFlag				 ds.l	1				; offset: $C (12)
refCon					 ds.l	1				; offset: $10 (16)
sizeof					 EQU *					; size:   $14 (20)
						ENDR
; typedef struct TSMTERec *				TSMTERecPtr

; typedef TSMTERecPtr *					TSMTERecHandle

	IF ¬ OPAQUE_TOOLBOX_STRUCTS THEN
TSMDialogRecord			RECORD 0
fDialog					 ds		DialogRecord	; offset: $0 (0)
fDocID					 ds.l	1				; offset: $AA (170)
fTSMTERecH				 ds.l	1				; offset: $AE (174)
fTSMTERsvd				 ds.l	3				; offset: $B2 (178)		;  reserved
sizeof					 EQU *					; size:   $BE (190)
						ENDR
; typedef struct TSMDialogRecord *		TSMDialogPtr

; typedef TSMDialogPtr 					TSMDialogPeek

	ENDIF

; *  NewTSMTEPreUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 


; *  NewTSMTEPostUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 


; *  DisposeTSMTEPreUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 


; *  DisposeTSMTEPostUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 


; *  InvokeTSMTEPreUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 


; *  InvokeTSMTEPostUpdateUPP()
; *  
; *  Availability:
; *    Non-Carbon CFM:   available as macro/inline
; *    CarbonLib:        in CarbonLib 1.0 and later
; *    Mac OS X:         in version 10.0 or later
; 

	IF ACCESSOR_CALLS_ARE_FUNCTIONS THEN

; *  IsTSMTEDialog()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in CarbonAccessors.o 1.0.2 and later
; *    CarbonLib:        in CarbonLib 1.0.2 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal Boolean IsTSMTEDialog(DialogRef dialog)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION IsTSMTEDialog
	ENDIF

;  Getters 

; *  GetTSMTEDialogDocumentID()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in CarbonAccessors.o 1.0.2 and later
; *    CarbonLib:        in CarbonLib 1.0.2 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal TSMDocumentID GetTSMTEDialogDocumentID(DialogRef dialog)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION GetTSMTEDialogDocumentID
	ENDIF


; *  GetTSMTEDialogTSMTERecHandle()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in CarbonAccessors.o 1.0.2 and later
; *    CarbonLib:        in CarbonLib 1.0.2 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal TSMTERecHandle GetTSMTEDialogTSMTERecHandle(DialogRef dialog)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION GetTSMTEDialogTSMTERecHandle
	ENDIF

;  Setters 

; *  SetTSMTEDialogDocumentID()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in CarbonAccessors.o 1.0.2 and later
; *    CarbonLib:        in CarbonLib 1.0.2 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal void SetTSMTEDialogDocumentID(DialogRef dialog, TSMDocumentID documentID)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION SetTSMTEDialogDocumentID
	ENDIF


; *  SetTSMTEDialogTSMTERecHandle()
; *  
; *  Availability:
; *    Non-Carbon CFM:   in CarbonAccessors.o 1.0.2 and later
; *    CarbonLib:        in CarbonLib 1.0.2 and later
; *    Mac OS X:         in version 10.0 or later
; 

;
; pascal void SetTSMTEDialogTSMTERecHandle(DialogRef dialog, TSMTERecHandle tsmteRecHandle)
;
	IF TARGET_OS_MAC ** TARGET_RT_MAC_CFM THEN
		IMPORT_CFM_FUNCTION SetTSMTEDialogTSMTERecHandle
	ENDIF

	ENDIF	; ACCESSOR_CALLS_ARE_FUNCTIONS
	ENDIF ; __TSMTE__ 

